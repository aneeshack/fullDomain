// [
//     {
//       _id: ObjectId('65f96b101ceb9c47dd8bf301'),
//       studentId: 101,
//       name: 'Rahul Sharma',
//       degree: 'BCA',
//       semester: 6,
//       CGPA: 7.9,
//       personalDetails: {
//         email: 'rahul.sharma@example.com',
//         phone: '9876543210',
//         dateOfBirth: '1999-08-15',
//         address: {
//           street: '123 MG Road',
//           city: 'Bangalore',
//           state: 'Karnataka',
//           country: 'India',
//           postalCode: '560001'
//         }
//       },
//       enrolledCourses: [
//         {
//           courseId: 'CSE101',
//           courseName: 'Computer Networks',
//           credits: 4,
//           faculty: { name: 'Dr. Anjali', email: 'anjali@example.com' },
//           assignments: [
//             { title: 'Network Layers', score: 85 },
//             { title: 'Routing Algorithms', score: 90 }
//           ]
//         },
//         {
//           courseId: 'CSE102',
//           courseName: 'Database Systems',
//           credits: 3,
//           faculty: { name: 'Prof. Ravi', email: 'ravi@example.com' },
//           assignments: [
//             { title: 'Normalization', score: 80 },
//             { title: 'Indexing Techniques', score: 70 }
//           ]
//         }
//       ]
//     },
//     {
//       _id: ObjectId('65f96b101ceb9c47dd8bf302'),
//       studentId: 102,
//       name: 'Amal Raj',
//       degree: 'B.Tech',
//       semester: 4,
//       CGPA: 8.5,
//       personalDetails: {
//         email: 'amal.raj@example.com',
//         phone: '9876543211',
//         dateOfBirth: '2001-04-10',
//         address: {
//           street: '45 Park Avenue',
//           city: 'Chennai',
//           state: 'Tamil Nadu',
//           country: 'India',
//           postalCode: '600020'
//         }
//       },
//       enrolledCourses: [
//         {
//           courseId: 'EEE201',
//           courseName: 'Circuit Analysis',
//           credits: 4,
//           faculty: { name: 'Dr. Kumar', email: 'kumar@example.com' },
//           assignments: [
//             { title: 'AC/DC Circuits', score: 95 },
//             { title: 'Power Systems', score: 85 }
//           ]
//         }
//       ]
//     },
//     {
//       _id: ObjectId('65f96b101ceb9c47dd8bf303'),
//       studentId: 103,
//       name: 'Aneesha Thomas',
//       degree: 'MBA',
//       semester: 2,
//       CGPA: 9.1,
//       personalDetails: {
//         email: 'aneesha.thomas@example.com',
//         phone: '9876543212',
//         dateOfBirth: '1998-12-25',
//         address: {
//           street: '78 Church Street',
//           city: 'Kochi',
//           state: 'Kerala',
//           country: 'India',
//           postalCode: '682001'
//         }
//       },
//       enrolledCourses: [
//         {
//           courseId: 'MBA101',
//           courseName: 'Marketing Strategies',
//           credits: 3,
//           faculty: { name: 'Dr. Smita', email: 'smita@example.com' },
//           assignments: [
//             { title: 'Case Study Analysis', score: 88 },
//             { title: 'Market Survey', score: 92 }
//           ]
//         },
//         {
//           courseId: 'MBA102',
//           courseName: 'Financial Management',
//           credits: 4,
//           faculty: { name: 'Prof. Jacob', email: 'jacob@example.com' },
//           assignments: [
//             { title: 'Budget Planning', score: 85 },
//             { title: 'Investment Strategies', score: 90 }
//           ]
//         }
//       ]
//     },
//     {
//       _id: ObjectId('65f96b101ceb9c47dd8bf304'),
//       studentId: 104,
//       name: 'Neha Kapoor',
//       degree: 'B.Tech',
//       semester: 4,
//       CGPA: 8.2,
//       personalDetails: {
//         email: 'neha.kapoor@example.com',
//         phone: '9876543213',
//         dateOfBirth: '2001-01-22',
//         address: {
//           street: '16 Golf Links',
//           city: 'Delhi',
//           state: 'Delhi',
//           country: 'India',
//           postalCode: '110003'
//         }
//       },
//       enrolledCourses: [
//         {
//           courseId: 'CSE101',
//           courseName: 'Computer Networks',
//           credits: 4,
//           faculty: { name: 'Dr. Anjali', email: 'anjali@example.com' },
//           assignments: [
//             { title: 'Network Layers', score: 80 },
//             { title: 'Routing Algorithms', score: 88 }
//           ]
//         },
//         {
//           courseId: 'CSE103',
//           courseName: 'Operating Systems',
//           credits: 3,
//           faculty: { name: 'Dr. Arvind', email: 'arvind@example.com' },
//           assignments: [
//             { title: 'Process Scheduling', score: 75 },
//             { title: 'Memory Management', score: 70 }
//           ]
//         }
//       ]
//     },
//     {
//       _id: ObjectId('65f96b101ceb9c47dd8bf305'),
//       studentId: 105,
//       name: 'Ravi Teja',
//       degree: 'MBA',
//       semester: 3,
//       CGPA: 7.5,
//       personalDetails: {
//         email: 'ravi.teja@example.com',
//         phone: '9876543214',
//         dateOfBirth: '1999-07-18',
//         address: {
//           street: '4 Jubilee Hills',
//           city: 'Hyderabad',
//           state: 'Telangana',
//           country: 'India',
//           postalCode: '500033'
//         }
//       },
//       enrolledCourses: [
//         {
//           courseId: 'MBA101',
//           courseName: 'Marketing Strategies',
//           credits: 3,
//           faculty: { name: 'Dr. Smita', email: 'smita@example.com' },
//           assignments: [
//             { title: 'Case Study Analysis', score: 82 },
//             { title: 'Market Survey', score: 85 }
//           ]
//         },
//         {
//           courseId: 'MBA103',
//           courseName: 'Business Analytics',
//           credits: 3,
//           faculty: { name: 'Dr. Rakesh', email: 'rakesh@example.com' },
//           assignments: [
//             { title: 'Data Visualization', score: 90 },
//             { title: 'Predictive Analysis', score: 88 }
//           ]
//         }
//       ]
//     },
//     {
//       _id: ObjectId('65f96b101ceb9c47dd8bf306'),
//       studentId: 106,
//       name: 'Ayesha Khan',
//       degree: 'BCA',
//       semester: 5,
//       CGPA: 8.8,
//       personalDetails: {
//         email: 'ayesha.khan@example.com',
//         phone: '9876543215',
//         dateOfBirth: '2000-03-14',
//         address: {
//           street: '89 Residency Road',
//           city: 'Lucknow',
//           state: 'Uttar Pradesh',
//           country: 'India',
//           postalCode: '226001'
//         }
//       },
//       enrolledCourses: [
//         {
//           courseId: 'CSE104',
//           courseName: 'Web Development',
//           credits: 3,
//           faculty: { name: 'Prof. Nisha', email: 'nisha@example.com' },
//           assignments: [
//             { title: 'HTML & CSS', score: 92 },
//             { title: 'JavaScript Basics', score: 87 }
//           ]
//         },
//         {
//           courseId: 'CSE102',
//           courseName: 'Database Systems',
//           credits: 3,
//           faculty: { name: 'Prof. Ravi', email: 'ravi@example.com' },
//           assignments: [
//             { title: 'Normalization', score: 88 },
//             { title: 'Indexing Techniques', score: 84 }
//           ]
//         }
//       ]
//     }
//   ]


// questions and answers regarding this collection==========================================
// 1.Write an aggregation query to calculate the average CGPA of all students in the collection.

// university> db.students.aggregate([{$group:{_id:null,average:{$avg:"$CGPA"}}}])
// [ { _id: null, average: 8.333333333333334 } ]
// university>

// 2.Write a query to calculate the total number of assignments submitted by each student across all their enrolled courses.
// university> db.students.aggregate([{$unwind:"$enrolledCourses"},{$unwind:"$enrolledCourses.assignments"},{$group:{_id:"$name",totalCourses:{$sum:1}}}])
// [
//   { _id: 'Amal Raj', totalCourses: 2 },
//   { _id: 'Rahul Sharma', totalCourses: 4 },
//   { _id: 'Aneesha Thomas', totalCourses: 4 },
//   { _id: 'Neha Kapoor', totalCourses: 4 },
//   { _id: 'Ravi Teja', totalCourses: 4 },
//   { _id: 'Ayesha Khan', totalCourses: 4 }
// ]
// university>
// university> db.students.aggregate([{$unwind:"$enrolledCourses"},{$unwind:"$enrolledCourses.assignments"},{$group:{_id:null,totalCourses:{$sum:1}}}])
// [ { _id: null, totalCourses: 22 } ]

// 3.Write an aggregation query to group students by their city and list the names of students from each city.
// university> db.students.aggregate([{$group:{_id:"$personalDetails.address.city",students:{"$push":"$name"}}}])
// [
//   { _id: 'Kochi', students: [ 'Aneesha Thomas' ] },
//   { _id: 'Bangalore', students: [ 'Rahul Sharma' ] },
//   { _id: 'Hyderabad', students: [ 'Ravi Teja' ] },
//   { _id: 'Lucknow', students: [ 'Ayesha Khan' ] },
//   { _id: 'Chennai', students: [ 'Amal Raj' ] },
//   { _id: 'Delhi', students: [ 'Neha Kapoor' ] }
// ]
// university>
// university> db.students.aggregate([{$group:{_id:"$personalDetails.address.city",students:{"$addToSet":"$name"}}}])
// [
//   { _id: 'Delhi', students: [ 'Neha Kapoor' ] },
//   { _id: 'Bangalore', students: [ 'Rahul Sharma' ] },
//   { _id: 'Kochi', students: [ 'Aneesha Thomas' ] },
//   { _id: 'Lucknow', students: [ 'Ayesha Khan' ] },
//   { _id: 'Chennai', students: [ 'Amal Raj' ] },
//   { _id: 'Hyderabad', students: [ 'Ravi Teja' ] }
// ]
// university>

// 4.Write an aggregation query to calculate the average CGPA for each degree (e.g., BCA, B.Tech, MBA) that the students are pursuing.
// university> db.students.aggregate([{$group:{_id:"$degree",averageCgpa:{$avg:"$CGPA"}}}])
// [
//   { _id: 'BCA', averageCgpa: 8.350000000000001 },
//   { _id: 'MBA', averageCgpa: 8.3 },
//   { _id: 'B.Tech', averageCgpa: 8.35 }
// ]
// university>

// 5.Write an aggregation query to list students who have completed more than 2 assignments in total across all their enrolled courses.